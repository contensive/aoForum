<div class="designBlockContainer blockSample {{outerContainerClass}}" style="{{styleHeight}}{{styleBackgroundImage}}">
    <div class="{{contentContainerClass}}">
        <div class="blockForumInner">
            <!-- forum description  -->
            {{#headline}}
            <h2>{{{headline}}}</h2>
            {{/headline}}
            {{#description}}
            <div class="blockForumDescription">{{{description}}}</div>
            {{/description}}
            <div class="fmAddComment">
                <!-- Create a new comment -->
                <div class="row form-group">
                    <div class="col-2">
                        <div class="fmAvatarCon text-center float-right">
                            {{#addCommentImageFilename}}
                            <img class="fmAvatar float-right" alt="" profile="" image""="" src="{{addCommentImageFilename}}">
                            {{/addCommentImageFilename}}
                            {{^addCommentImageFilename}}
                            <i class="fas fa-user"></i>
                            {{/addCommentImageFilename}}
                        </div>
                    </div>
                    <div class="col-10">
                        <textarea rows="4" class="form-control border rounded" id="CommentInput1" name="CommentInput" placeholder="leave a Message...">{{addCommentCopy}}</textarea>
                    </div>
                </div>
                {{^userAuthenticated}}
                <div class="row form-group">
                    <div class="col-2">
                        <label for="exampleInputName1"></label>
                    </div>
                    <div class="col-5">
                        <input type="text" class="form-control" id="exampleInputName" name="CommentUserName" value="{{addCommentName}}" placeholder="Enter Your Name">
                    </div>
                    <div class="col-5">
                        <input type="email" class="form-control" id="exampleInputEmail1" name="CommentEmail" aria-describedby="emailHelp" placeholder="Enter Your Email" value="{{addCommentEmail}}">
                    </div>
                </div>
                {{/userAuthenticated}}
                <div class="row form-group">
                    <div class="col-2">&nbsp;</div>
                    <div class="col-10">
                        <button type="submit" name="button" class="btn btn-primary" value="addComment">Comment</button>
                    </div>
                </div>
            </div>
            <!-- List of Messages -->
            {{#commentList}}
            <div class="fmComment border-top pt-2 mt-2">
                <div class="row fmCommentBody">
                    <div class="col-2">
                        <div class="fmAvatarCon text-center float-right">
                            {{#commentImageFilename}}
                            <img class="fmAvatar float-right" alt="" profile="" image""="" src="{{commentImageFilename}}">
                            {{/commentImageFilename}}
                            {{^commentImageFilename}}
                            <i class="fas fa-user"></i>
                            {{/commentImageFilename}}
                        </div>
                    </div>
                    <div class="col-10">
                        <div class="p-2 border rounded bg-light">
                            <p class="m-0 p-0">{{comment}}</p>
                        </div>
                        {{#commentUserName}}
                        <div class="pl-2 text-muted">
                            <p class="m-0 p-0">{{commentUserName}}</p>
                        </div>
                        {{/commentUserName}}
                    </div>
                </div>
                <!-- reply button - shows the reply form -->
                <div class="row">
                    <div class="col-2">&nbsp;</div>
                    <div class="col-10">
                        <button type="button" name="blockForumFormButton" class="btn btn-primary btn-sm m-1 fmReplyButton" data-commentid="{{commentid}}">Reply</button>
                    </div>
                </div>
                <!-- reply form -->
                <div class="fmCommentReplyForm commentHide" id="fmReplyForm{{commentid}}" style="display:none;">
                    <div class="row">
                        <div class="col-2">&nbsp;</div>
                        <div class="col-10 form-group">
                            <textarea rows="2" class="form-control" id="CommentReplyInput1" name="replyBody{{commentid}}" placeholder="reply..."></textarea>
                        </div>
                    </div>
                    {{^userAuthenticated}}
                    <div class="row">
                        <div class="col-2">&nbsp;</div>
                        <div class="col-5">
                            <input type="text" class="form-control" id="exampleReplyInputName" name="replyUserName{{commentid}}" value="{{replyUserName}}" placeholder="Enter Name">
                        </div>
                        <div class="col-5">
                            <input type="email" class="form-control" id="exampleReplyInputEmail1" name="replyUserEmail{{commentid}}" value="{{replyUserEmail}}" placeholder="Enter email">
                        </div>
                    </div>
                    {{/userAuthenticated}}
                    <div class="row">
                        <div class="col-2">&nbsp;</div>
                        <div class="col-10">
                            <button type="submit" name="button" class="btn btn-primary m-1" value="addReply-{{commentId}}">Reply</button>
                        </div>
                    </div>
                </div>
                <div class="fmCommentReplyList">
                    {{#replyList}}
                    <div class="row">
                        <div class="col-2">
                            <div class="fmAvatarCon text-center float-right">
                                {{#replyImageFilename}}
                                <img class="fmAvatar float-right" alt="" profile="" image""="" src="{{replyImageFilename}}">
                                {{/replyImageFilename}}
                                {{^replyImageFilename}}
                                <i class="fas fa-user"></i>
                                {{/replyImageFilename}}
                            </div>
                        </div>
                        <div class="col-10">
                            <div class="p-2 border rounded">
                                <p class="m-0 p-0">{{reply}}</p>
                            </div>
                            {{#replyUserName}}
                            <div class="pl-2 text-muted">
                                <p class="m-0 p-0">{{replyUserName}}</p>
                            </div>
                            {{/replyUserName}}
                        </div>
                    </div>
                    {{/replyList}}
                </div>
            </div>
            {{/commentList}}
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function (event) {
        console.log("forum-bind-ready");
        jQuery('.fmReplyButton').on("click", function () {
            console.log("reply button click, target [#fmReplyForm" + jQuery(this).attr("data-commentid") + "]");
            jQuery(this).hide();
            jQuery(".fmCommentReplyForm").hide();
            jQuery("#fmReplyForm" + jQuery(this).attr("data-commentid")).show();
        })
    });
</script>


